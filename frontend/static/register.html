<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Register - Ryde</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="container register-container">
      <div class="form-box register-box">
        <h2>Create Account</h2>
        <p class="sub">Join our network today</p>

        <form id="registerForm">
          <input type="text" id="fullName" placeholder="Full Name" required />
          <input
            type="email"
            id="regEmail"
            placeholder="Email"
            required
            autocomplete="email"
          />
          <input
            type="tel"
            id="phone"
            placeholder="Phone / WhatsApp"
            required
            autocomplete="tel"
          />
          <input
            type="password"
            id="regPassword"
            placeholder="Password"
            required
            autocomplete="new-password"
          />

          <select id="role" required>
            <option value="" disabled selected>Select your role</option>
            <option value="OWNER">Vehicle Owner / Driver</option>
            <option value="REPAIR">Repair Shop / Mechanic</option>
            <option value="TOWING">Towing Service Provider</option>
          </select>

          <div id="extraFields"></div>

          <button type="submit" class="btn primary">Register</button>
        </form>

        <p>Already have an account? <a href="/">Login</a></p>
      </div>
    </div>

    <script src="/static/js/api.js"></script>
    <script src="/static/js/auth.js"></script>

    <script>
      // Show extra fields based on role
      document.getElementById("role").addEventListener("change", function () {
        const role = this.value;
        const container = document.getElementById("extraFields");
        container.innerHTML = "";

        if (role === "OWNER") {
          container.innerHTML = `
          <select id="vehicleType" required>
            <option value="" disabled selected>Vehicle Type</option>
            <option value="CAR">Car</option>
            <option value="BIKE">Bike</option>
            <option value="OTHER">Other Vehicle</option>
          </select>
          <input type="text" id="vehicleName"        placeholder="Vehicle Brand / Name" required>
          <input type="text" id="vehicleModel"       placeholder="Model (e.g. Swift, Pulsar)" required>
          <input type="text" id="vehicleRegistration" placeholder="Registration Number (e.g. WB12AB1234)" required>
        `;
        }
        // You can extend this for REPAIR and TOWING roles later
      });
    </script>
  </body>
</html>
